# ============================================================
# Talos Backend — Environment Variables
# Copy this file to .env and fill in values for local dev.
# Never commit .env to version control.
# ============================================================

# ── Node ────────────────────────────────────────────────────
# Set to 'production' on AWS. Enables PostgreSQL, HTTPS
# enforcement, stricter env var checks, and JSON logging.
NODE_ENV=development

# ── Authentication ──────────────────────────────────────────
# Long random string used to sign JWTs. Minimum 32 characters.
# Generate one with: node -e "console.log(require('crypto').randomBytes(48).toString('hex'))"
JWT_SECRET=

# ── Anthropic AI ────────────────────────────────────────────
# API key for Claude resume analysis. Required in all environments.
# Get one at: https://console.anthropic.com
ANTHROPIC_API_KEY=

# ── Database — Local Dev (SQLite) ───────────────────────────
# When USE_POSTGRES is false (default in dev), the app uses a
# local SQLite file. No database setup required.
USE_POSTGRES=false

# ── Database — PostgreSQL ───────────────────────────────────
# Required in production (when NODE_ENV=production or USE_POSTGRES=true).
DB_HOST=localhost
DB_PORT=5432
DB_NAME=talos
DB_USER=postgres
DB_PASSWORD=

# Set to 'true' to enable SSL on the DB connection (recommended for RDS).
DB_SSL=false

# Set to 'false' ONLY when using self-signed certs (e.g., local PG with SSL).
# Defaults to 'true', which validates the server certificate.
DB_SSL_REJECT_UNAUTHORIZED=true

# ── Database — AWS RDS (injected by Elastic Beanstalk) ──────
# AWS EB automatically sets these when an RDS instance is attached.
# The app reads these as fallbacks if DB_HOST/DB_PASSWORD are not set.
# Do not set these manually unless replicating the EB environment locally.
RDS_HOSTNAME=
RDS_PORT=5432
RDS_DB_NAME=
RDS_USERNAME=
RDS_PASSWORD=

# ── Google OAuth ─────────────────────────────────────────────
# Used for recruiter Google login. Create credentials at:
# https://console.cloud.google.com → APIs & Services → Credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# ── Logging ──────────────────────────────────────────────────
# Controls minimum log level. One of: debug | info | warn | error
# Defaults to 'info'. Use 'debug' locally to see all request details.
LOG_LEVEL=info
